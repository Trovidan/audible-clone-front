(this["webpackJsonpaudio-book"]=this["webpackJsonpaudio-book"]||[]).push([[0],{101:function(e,t,a){e.exports=a(133)},106:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(23),r=a.n(l),c=(a(106),a(72)),o=a(8),s=a(19),m=a.n(s),u=a(29),d=a(4),h=a(69),p=a(10),E=a(62),b=a(83),f=a.n(b),g=(a(67),a(26),a(156)),v=a(157),y=a(158),k=i.a.createContext({status:!1,inCart:[],inLibrary:[],inWishlist:[],logIn:function(){},logOut:function(){},addToCart:function(){},addToWishlist:function(){},removeFromCart:function(){},removeFromWishlist:function(){},moveToWishlist:function(){},moveToCart:function(){}}),N=k.Provider,C=(k.Consumer,k);function w(){var e=i.a.useContext(C),t=e.status,a=t?[{title:"Explore",link:"http://localhost:3000/explore"},{title:"Library",link:"http://localhost:3000/library"},{title:"Wishlist",link:"http://localhost:3000/wishlist"},{title:"Cart",link:"http://localhost:3000/cart"}]:[{title:"Explore",link:"http://localhost:3000/explore"},{title:"Cart",link:"http://localhost:3000/cart"},{title:"Sign in",link:"http://localhost:3000/login"}],n=t?i.a.createElement(g.a,{title:"Profile",className:"nav-element",id:"collasible-nav-dropdown"},[{title:"Account",link:"http://localhost:3000/profile"},{title:"Orders",link:"http://localhost:3000/"},{title:"Credits",link:"http://localhost:3000/"},{title:"Return",link:"http://localhost:3000/"},{title:"Ask Question?",link:"http://localhost:3000/"}].map((function(e){return i.a.createElement(g.a.Item,{key:e.title,href:e.link},e.title)})),i.a.createElement(g.a.Divider,null),i.a.createElement(g.a.Item,{href:"#"},i.a.createElement("button",{onClick:function(){e.logOut(!0)}},"Sign Out!"))):"";return i.a.createElement("div",{className:"navbar-container"},i.a.createElement(v.a,{className:"custom-navbar",collapseOnSelect:!0,expand:"lg"},i.a.createElement(v.a.Brand,{href:"http://localhost:3000/"},i.a.createElement("img",{src:f.a,className:"logo",alt:"Logo"})),i.a.createElement(v.a.Toggle,{"aria-controls":"responsive-navbar-nav "}),i.a.createElement(v.a.Collapse,{id:"responsive-navbar-nav toggle-nav-list"},i.a.createElement(y.a,{className:"navbar-list"},a.map((function(t){var a=i.a.createElement(i.a.Fragment,null),n=e.inCart;return"Cart"===t.title&&void 0!==n&&n.length>0&&(a=i.a.createElement("span",{className:"cart-quantity-indicator"},n.length)),i.a.createElement(y.a.Link,{key:t.title,className:"nav-element",href:t.link},t.title,a)})),n))))}var O=a(17),j=a(12);function S(){return i.a.createElement("footer",null,i.a.createElement("div",{className:"footer-content"},i.a.createElement(O.a,null,i.a.createElement(j.a,null,["Contact Us","Help","How to Listen","Listening Apps","Mobile Site","Audible Suno"].map((function(e){return i.a.createElement(O.a,{key:e},e)}))),i.a.createElement(j.a,null,["Facebook","Twitter","Instagram","Learn About Audible","Learn about membership"].map((function(e){return i.a.createElement(O.a,{key:e},e)}))),i.a.createElement(j.a,null,["Best Sellers","New Releases","Indian Listens","Hindi Audiobooks","Free Shows & Audiobooks"].map((function(e){return i.a.createElement(O.a,{key:e},e)}))),i.a.createElement(j.a,null,["Mysteries & Thrillers","Romance","Fiction","Sci-Fi & Fantasy","Self Development"].map((function(e){return i.a.createElement(O.a,{key:e},e)}))))),i.a.createElement("hr",null),i.a.createElement("div",{className:"footer-content-term"},i.a.createElement("span",null,"\xa9 Copyright 2000 - 2020 Pranav Inc."),["Condition of Use","Privacy Policy","Interst-Based-Ads","Recurring Payments","India(English)"].map((function(e){return i.a.createElement("span",{key:e,className:"pipe"},i.a.createElement("span",{className:"pipe"},"|")," ",e)}))))}function L(e){return i.a.createElement("div",{className:"explainStrip-container"},i.a.createElement("h4",{className:"explainStrip-title"},e.title),i.a.createElement(O.a,null,e.details.map((function(e){return i.a.createElement(j.a,{key:e.uri},i.a.createElement("img",{src:e.uri,className:"explainStrip-image",alt:"explain"}),i.a.createElement("div",{className:"explainStrip-text"},i.a.createElement("p",null,e.text)))}))))}var x=a(56),W=a(57),T=a(47),A=a(64),I=a(61),F=function(e){Object(A.a)(a,e);var t=Object(I.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"card-container"},i.a.createElement("img",{className:"card-image",src:this.props.uri,alt:"BookImage"}))}}]),a}(i.a.Component),P=a(89),D=a.n(P),_=a(90),R=a.n(_),B=function(e){Object(A.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).state={start:0},n.handleLeftClick=n.handleLeftClick.bind(Object(T.a)(n)),n.handleRightClick=n.handleRightClick.bind(Object(T.a)(n)),n}return Object(W.a)(a,[{key:"handleLeftClick",value:function(){var e=this.state.start-6;e<0?this.carouselAnimationLeftEnd():(this.carouselAnimationLeft(),this.setState({start:e}))}},{key:"handleRightClick",value:function(){var e=this.state.start+6;e+6>6*Math.floor(this.props.cardDetails.length/6)?this.carouselAnimationRightEnd():(this.carouselAnimationRight(),this.setState({start:e}))}},{key:"carouselAnimationLeft",value:function(){var e=document.getElementsByClassName("carousel-row-container");console.log(e[this.props.carouselID].style),function e(t,a,n,i){if(console.log("animating"),!(a>=0)){var l=a+500*i,r=n+i;t.marginLeft=l.toString()+"px",t.opacity=r.toString(),window.setTimeout((function(){e(t,l,r,i)}),10)}}(e[this.props.carouselID].style,-500,0,.05)}},{key:"carouselAnimationLeftEnd",value:function(){console.log("animation"),function e(t,a,n,i){if(a!==i){var l=a+n;t.marginLeft=l.toString()+"px",window.setTimeout((function(){e(t,l,n,i)}),1)}else i>0&&window.setTimeout((function(){e(t,i,-n,0)}),300)}(document.getElementsByClassName("carousel-row-container")[this.props.carouselID].style,0,5,100)}},{key:"carouselAnimationRight",value:function(){console.log("right animation");var e=document.getElementsByClassName("carousel-row-container");console.log(e[this.props.carouselID].style),function e(t,a,n,i){if(!(a<=0)){var l=a-500*i,r=n+i;t.marginLeft=l.toString()+"px",t.opacity=r.toString(),window.setTimeout((function(){e(t,l,r,i)}),10)}}(e[this.props.carouselID].style,500,0,.05)}},{key:"carouselAnimationRightEnd",value:function(){console.log("animation"),function e(t,a,n,i){if(a!==i){var l=a+n;t.marginLeft=l.toString()+"px",window.setTimeout((function(){e(t,l,n,i)}),1)}else i<0&&window.setTimeout((function(){e(t,i,-n,0)}),300)}(document.getElementsByClassName("carousel-row-container")[this.props.carouselID].style,0,-5,-100)}},{key:"render",value:function(){if(this.props.cardDetails.length<6)return i.a.createElement("div",null);for(var e=[],t=0;t<6;t++)e.push(this.props.cardDetails[t+this.state.start]);return i.a.createElement("div",{className:"carousel"},i.a.createElement("div",{className:"carousel-row-container"},i.a.createElement(O.a,{className:"carousel-row"},e.map((function(e){return i.a.createElement(j.a,{key:e._id}," ",i.a.createElement(F,{uri:e.imageUri}))})))),i.a.createElement("div",{className:"carousel-button-container"},i.a.createElement("button",{className:"carousel-button carousel-button-left",onClick:this.handleLeftClick},i.a.createElement("img",{src:D.a,alt:"left"})),i.a.createElement("button",{className:"carousel-button carousel-button-right",onClick:this.handleRightClick},i.a.createElement("img",{src:R.a,alt:"right"}))))}}]),a}(i.a.Component),U=(a(31),a(91)),M=a.n(U).a.create({baseURL:"https://audible-clone-back.herokuapp.com/"});function H(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){M.post("/books").then((function(e){l(e.data)}))}),[]),i.a.createElement("div",{className:"App"},i.a.createElement(w,null),i.a.createElement("div",{className:"audible-motto-container"},i.a.createElement("div",{className:"audible-motto"},i.a.createElement("span",{className:"audible-motto-title"},"BOOKS. STORIES."),i.a.createElement("br",null),i.a.createElement("span",{className:"audible-motto-title"},"TALK SHOWS."),i.a.createElement("br",null),i.a.createElement("span",{className:"audible-motto-title"},"LIFE LESSONS."),i.a.createElement("br",null),i.a.createElement("span",{className:"audible-motto-promo"},"Try Audiobooks today. Cancel Anytime."))),i.a.createElement(B,{carouselID:"0",cardDetails:a}),i.a.createElement(L,{details:[{uri:"./images/first.svg",text:"Log in securely with your Amazon account."},{uri:"./images/second.svg",text:"Sign-up for your free trial. Use the credit on any audiobook of your choice"},{uri:"./images/third.svg",text:"Download the free Audible app and start listening!"}],title:"How to Start?"}),i.a.createElement(S,null))}var Y=a(58),J=a.n(Y),z=a(20);function V(e){var t=i.a.useState(i.a.createElement(z.a,{variant:"warning",onClick:function(){r()}},"Send Verification Email")),a=Object(d.a)(t,2),n=a[0],l=a[1],r=function(){var t=Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.post("/verifyMail",{sessionID:e.sessionID}).then((function(e){l(i.a.createElement(z.a,{variant:"light"},"Go check Your Mails!")),setTimeout((function(){l(i.a.createElement(z.a,{variant:"warning",onClick:function(){r()}},"Resend Verification Email"))}),6e4)})).catch((function(e){alert("Unable to send Mails!!!")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:"verification-body"},i.a.createElement("div",{className:"verification-container"},i.a.createElement("div",{className:"verification-title"},"Let's get your account verified"),n))}function X(){var e=i.a.useContext(C),t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],r=a[1],c=Object(n.useState)(""),o=Object(d.a)(c,2),s=o[0],h=o[1],p=Object(n.useState)(""),E=Object(d.a)(p,2),b=E[0],f=E[1],g=Object(n.useState)(),v=Object(d.a)(g,2),y=v[0],k=v[1];function N(){return(N=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,M.post("/login",{email:s,password:l}).then((function(t){return!0===t.data.verified?void e.logIn(t.data.sessionID):void k(t.data.sessionID)})).catch((function(e){return void 0===e.response?void f("Unable to reach the server, try again later."):void f(e.response.data)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(void 0!==y)return i.a.createElement(V,{sessionID:y});var w=i.a.createElement("div",null);return""!==b&&(w=i.a.createElement("div",{className:"login-error"},i.a.createElement("div",{className:"login-error-title"},"There was a problem!"),i.a.createElement("p",{className:"login-error-reason"},b))),i.a.createElement("div",{className:"login-body"},i.a.createElement("img",{src:J.a,className:"login-logo",alt:"audible_logo"}),i.a.createElement("div",{className:"login-container"},i.a.createElement("span",{className:"login-title"},"Existing User? Sign in"),i.a.createElement("div",{className:"login-input-container"},i.a.createElement("span",{className:"login-input-title"},"Registered E-mail"),i.a.createElement("input",{type:"email",value:s,className:"login-input-field",onChange:function(e){h(e.target.value)}})),i.a.createElement("div",{className:"login-input-container"},i.a.createElement("span",{className:"login-input-title"},"Password"),i.a.createElement("input",{type:"password",value:l,className:"login-input-field",onChange:function(e){r(e.target.value)}})),i.a.createElement(z.a,{variant:"warning",onClick:function(e){return N.apply(this,arguments)}},"Sign in"),i.a.createElement(O.a,null,i.a.createElement(j.a,null,i.a.createElement("hr",null)),i.a.createElement(j.a,{md:"auto"},"New to Audible?"),i.a.createElement(j.a,null,i.a.createElement("hr",null)),i.a.createElement("a",{href:"http://localhost:3000/createUser"},i.a.createElement(z.a,{variant:"light"},"Create New Account")))),w)}var G=a(37);function K(){var e=i.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],l=i.a.useState({name:"",_id:"",password:""}),r=Object(d.a)(l,2),c=r[0],o=r[1];return i.a.useEffect((function(){M.post("/personelDetails",{projection:"name _id password"},{withCredentials:!0}).then((function(e){console.log(e.data),o(e.data),n(!1)})).catch((function(e){n(!0)}))}),[]),a?i.a.createElement("div",{className:"user-profile-error"},"Something Went Wrong!!!"):""===c.name?i.a.createElement("div",{className:"user-profile-error"},i.a.createElement(G.a,{animation:"border",variant:"warning"})):i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("span",{className:"profile-section-details-title"},"Your Account Details"),i.a.createElement("span",{className:"update-account-details"},"Update your Audible info ")),i.a.createElement("div",null,i.a.createElement(O.a,null,i.a.createElement(j.a,null,i.a.createElement("span",{className:"account-details-title"},"Name: "),i.a.createElement("span",{className:"account-details"},c.name)),i.a.createElement(j.a,null,i.a.createElement("span",{className:"account-details-title"},"Email: "),i.a.createElement("span",{className:"account-details"},c._id)),i.a.createElement(j.a,null,i.a.createElement("span",{className:"account-details-title"},"Password:"),i.a.createElement("span",{className:"account-details"},"********")))))}function Q(){return i.a.createElement("div",{className:"user-profile-error"},i.a.createElement("a",{href:"http://localhost:3000"},"Let's listen to a book to review"))}function q(){return i.a.createElement("div",{className:"user-profile-error"},i.a.createElement("a",{href:"http://localhost:3000"},"Let's buy a book to listen"))}function $(){var e=Object(n.useState)({component:K}),t=Object(d.a)(e,2),a=t[0],l=t[1],r=a,c=[{title:"Account Details",component:K},{title:"Reviews",component:Q},{title:"Purchase History",component:q}];return i.a.createElement("div",null,i.a.createElement(w,null),i.a.createElement("div",{className:"profile-body"},i.a.createElement("div",{className:"profile-title"},"User's Profile"),i.a.createElement("div",{className:"profile-container"},i.a.createElement("div",{className:"profile-section-menu"},c.map((function(e){return i.a.createElement("div",{key:e.title},i.a.createElement("button",{className:"profile-section-option",key:e.title,onClick:function(){l({component:e.component})}},e.title))}))),i.a.createElement("div",{className:"profile-section-details"},i.a.createElement(r.component,null)))),i.a.createElement(S,null))}function Z(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),c=Object(d.a)(r,2),o=c[0],s=c[1],m=Object(n.useState)(""),u=Object(d.a)(m,2),h=u[0],p=u[1],E=Object(n.useState)(""),b=Object(d.a)(E,2),f=b[0],g=b[1],v=Object(n.useState)(""),y=Object(d.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)(),w=Object(d.a)(C,2),O=w[0],j=w[1],S=i.a.createElement("div",{className:"createUser-phantom-error"});return void 0!==O?i.a.createElement(V,{sessionID:O}):(""!==k&&(S=i.a.createElement("div",{className:"login-error"},i.a.createElement("div",{className:"login-error-title"},"There was a problem!"),i.a.createElement("p",{className:"login-error-reason"},k))),i.a.createElement("div",{className:"login-body"},i.a.createElement("a",{href:"http://localhost:3000"},i.a.createElement("img",{src:J.a,className:"login-logo",alt:"audible_logo"})),i.a.createElement("div",{className:"createUser-container"},i.a.createElement("span",{className:"login-title"},"Create User"),i.a.createElement("div",{className:"login-input-container"},i.a.createElement("span",{className:"login-input-title"},"Your Name"),i.a.createElement("input",{className:"login-input-field",type:"text",value:a,onChange:function(e){l(e.target.value)}})),i.a.createElement("div",{className:"login-input-container"},i.a.createElement("span",{className:"login-input-title"},"Email"),i.a.createElement("input",{className:"login-input-field",type:"text",value:h,onChange:function(e){p(e.target.value)}})),i.a.createElement("div",{className:"login-input-container"},i.a.createElement("span",{className:"login-input-title"},"Password"),i.a.createElement("input",{className:"login-input-field",type:"password",value:o,onChange:function(e){s(e.target.value)},placeholder:"min 6 characters"})),i.a.createElement("div",{className:"login-input-container"},i.a.createElement("span",{className:"login-input-title"},"Confirm Password"),i.a.createElement("input",{className:"login-input-field",type:"text",value:f,onChange:function(e){g(e.target.value)}})),i.a.createElement(z.a,{variant:"warning",onClick:function(){!function(){var e=o.length;if(""!==o&&""!==f&&""!==h&&""!==a)if(e<6)N("Please choose a valid Password!");else if(o===f){var t={name:a,email:h,password:o};M.post("/createAccount",t).then((function(e){N(""),j(e.data.sessionID)})).catch((function(e){N(e.response.data)}))}else N("Entered incorrect Confirm Password!");else N("Please enter all the fields")}()}},"Create")),S))}function ee(e){var t=e.book,a=i.a.useContext(C),n=e.buttonJSX;return console.log(e.buttonJSX),void 0===n&&(n=a.inCart.includes(t._id)?i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"light",className:"btn-inlist",href:"http://localhost:3000/cart"},"In Cart")):a.inWishlist.includes(t._id)?i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"warning",onClick:function(){a.moveToCart(t._id)}},"Move To Cart"),i.a.createElement(z.a,{variant:"light",className:"btn-inlist",href:"http://localhost:3000/wishlist"},"In Wish List")):a.inLibrary.includes(t._id)?i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"light",className:"btn-inlist",href:"http://localhost:3000/library"},"In Your Library")):i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"warning",onClick:function(){a.addToCart(t._id)}},"Add To Cart"),i.a.createElement(z.a,{variant:"warning",onClick:function(){a.addToWishlist(t._id)}},"Add TO Wish List"))),i.a.createElement("div",{className:"bookTile"},i.a.createElement("a",{className:"bookTile-image",href:"http://localhost:3000/book/".concat(t._id)},i.a.createElement("img",{src:t.imageUri,alt:t.title})),i.a.createElement("div",{className:"bookTile-details"},i.a.createElement("a",{className:"bookTile-title",href:"http://localhost:3000/book/".concat(t._id)},t.title),i.a.createElement("div",null,i.a.createElement("span",{className:"bookTile-placeholder"},"Written By: "),i.a.createElement("span",{className:"bookTile-description"},t.author.join())),i.a.createElement("div",null,i.a.createElement("span",{className:"bookTile-placeholder"},"Narrated By: "),i.a.createElement("span",{className:"bookTile-description"},t.narratedBy.join())),i.a.createElement("div",null,i.a.createElement("span",{className:"bookTile-placeholder"},"Length: "),i.a.createElement("span",{className:"bookTile-description"},t.length," mins")),i.a.createElement("div",null,i.a.createElement("span",{className:"bookTile-placeholder"},"Language: "),i.a.createElement("span",{className:"bookTile-description"},t.language))),i.a.createElement("div",{className:"bookTile-price"},i.a.createElement("div",null,i.a.createElement("span",{className:"bookTile-placeholder"},"Price: "),i.a.createElement("span",{className:"bookTile-description"}," \u20b9 ",t.price)),n))}var te=a(159),ae=a(155);function ne(e){var t=e.categories,a=Object(n.useState)(!0),l=Object(d.a)(a,2),r=l[0],c=l[1],o=Object(n.useState)(!0),s=Object(d.a)(o,2),m=s[0],u=s[1];var h=i.a.createElement(i.a.Fragment,null),p=t.map((function(t,a){return i.a.createElement("div",{key:t.title,className:"category-filter-options"},i.a.createElement(te.a,{onChange:function(){return function(t){var a=e.categories;a[t].selected=!0!==a[t].selected,e.changeState(a),u(!m)}(a)},control:i.a.createElement(ae.a,{name:t.title,checked:t.selected}),label:t.title}))}));return i.a.createElement("div",{className:"category-filter"},i.a.createElement("button",{className:"category-filter-title",onClick:function(){c(!0!==r)}}," ",e.title," "),i.a.createElement("button",{onClick:function(){e.reset(),u(!m)}},"Clear"),r?p:h)}function ie(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),c=Object(d.a)(r,2),o=c[0],s=c[1],h=[{title:"fiction",selected:!1},{title:"non-fiction",selected:!1},{title:"religious",selected:!1}],p=[{title:"Psychological",selected:!1},{title:"Saga",selected:!1},{title:"Historical",selected:!1},{title:"Alternate History",selected:!1},{title:"Fantasy",selected:!1},{title:"High Fantasy",selected:!1},{title:"Mithic",selected:!1},{title:"Business",selected:!1},{title:"Motivation",selected:!1},{title:"Horror Comics",selected:!1},{title:"Dark Comedy",selected:!1},{title:"Dark fantasy",selected:!1},{title:"Mystery",selected:!1},{title:"Thriller",selected:!1},{title:"Crime Film",selected:!1},{title:"Horror",selected:!1},{title:"Adventure",selected:!1},{title:"Drama",selected:!1},{title:"Quest",selected:!1},{title:"Novel",selected:!1},{title:"Self-help",selected:!1},{title:"Sci-Fi",selected:!1}],E=[{title:"Article",selected:!1},{title:"Audio-Book",selected:!1},{title:"Episode",selected:!1},{title:"Hypnosis",selected:!1},{title:"Language Learning",selected:!1},{title:"Lecture",selected:!1},{title:"Meditation",selected:!1},{title:"Newspaper & Magazine",selected:!1},{title:"Performance",selected:!1},{title:"Periodical",selected:!1},{title:"Radio & TV Program",selected:!1},{title:"Sermon",selected:!1},{title:"Show",selected:!1},{title:"Speech",selected:!1},{title:"Walking Tour",selected:!1}],b=[{title:"English",selected:!1},{title:"Hindi",selected:!1}],f=Object(n.useState)(h),g=Object(d.a)(f,2),v=g[0],y=g[1],k=Object(n.useState)(p),N=Object(d.a)(k,2),C=N[0],O=N[1],j=Object(n.useState)(E),L=Object(d.a)(j,2),x=L[0],W=L[1],T=Object(n.useState)(b),A=Object(d.a)(T,2),I=A[0],F=A[1];function P(e){var t=Object.assign([],e);return y(t),!0}var D,_=function(e){var t=Object.assign([],e);F(t)},R=function(e){var t=Object.assign([],e);O(t)},B=function(e){var t=Object.assign([],e);W(t)};return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch called"),e.next=3,M.post("/books",{languages:I,categories:v,genres:C,programTypes:x}).then((function(e){s(""),l(e.data)})).catch((function(e){s("Something Went Wrong!!!")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v,C,x,I]),D=""!==o?i.a.createElement("div",{className:"explore-error"},o):void 0===a?i.a.createElement(G.a,{animation:"border",variant:"warning"}):i.a.createElement("div",null,a.map((function(e){return i.a.createElement(ee,{key:e._id,book:e})}))),i.a.createElement("div",null,i.a.createElement(w,null),i.a.createElement("div",{className:"explore-body"},i.a.createElement("div",{className:"explore-body-filter"},i.a.createElement(ne,{title:"Category",categories:v,changeState:function(e){return P(e)},reset:function(){return P(h)}}),i.a.createElement(ne,{title:"Language",categories:I,changeState:function(e){return _(e)},reset:function(){return _(b)}}),i.a.createElement(ne,{title:"Genre",categories:C,changeState:function(e){return R(e)},reset:function(){return R(p)}}),i.a.createElement(ne,{title:"Program Type",categories:x,changeState:function(e){return B(e)},reset:function(){return B(E)}})),i.a.createElement("div",{className:"explore-body-books"},D)),i.a.createElement(S,null))}function le(){var e=i.a.useContext(C),t=Object(n.useState)(),a=Object(d.a)(t,2),l=a[0],r=a[1],c=void 0===e.inWishlist?0:e.inWishlist.length;Object(n.useEffect)((function(){0!==c?M.post("/books",{ids:e.inWishlist}).then((function(e){console.log(e),r(e.data)})).catch((function(e){r()})):console.log("found undefined "+e.inWishlist)}),[e.inWishlist,c]);var o=i.a.createElement("div",{className:"empty-wishlist-body"},i.a.createElement("span",{className:"empty-wishlist-heading"},"No items found in your Wish List."),"Start building your Wish List with audiobooks that inspire and entertain.",i.a.createElement(z.a,{variant:"warning",className:"empty-wishlist-btn",href:"http://localhost:3000/explore"},"Explore Audio-Books"));return void 0!==l&&void 0!==e.inWishlist&&e.inWishlist.length>0&&(o=i.a.createElement(i.a.Fragment,null,l.map((function(t){var a=i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"light",className:"btn-inlist",onClick:function(){e.moveToCart(t._id)}},"Move To Cart"),i.a.createElement(z.a,{variant:"warning",onClick:function(){e.removeFromWishlist(t._id)}},"Remove From Wishlist"));return i.a.createElement(ee,{key:t._id,book:t,buttonJSX:a})})))),i.a.createElement(i.a.Fragment,null,i.a.createElement(w,null),i.a.createElement("div",{className:"wishlist-container"},i.a.createElement("div",{className:"wishlist-title-container"},i.a.createElement("span",{className:"wishlist-title"},"Wish List"),c," items"),i.a.createElement("div",{className:"wishlist-body"},o)),i.a.createElement(S,null))}function re(){var e=i.a.useContext(C),t=Object(n.useState)(),a=Object(d.a)(t,2),l=a[0],r=a[1],c=void 0===e.inLibrary?0:e.inLibrary.length;Object(n.useEffect)((function(){0!==c?M.post("/books",{ids:e.inLibrary}).then((function(e){console.log(e),r(e.data)})).catch((function(e){r()})):console.log("found undefined "+e.inLibrary)}),[e.inLibrary,c]);var o=i.a.createElement("div",{className:"empty-wishlist-body"},i.a.createElement("span",{className:"empty-wishlist-heading"},"No items found in your Library."),"Start building your Library with audiobooks that inspire and entertain.",i.a.createElement(z.a,{variant:"warning",className:"empty-wishlist-btn",href:"http://localhost:3000/explore"},"Explore Audio-Books"));return void 0!==l&&(o=i.a.createElement(i.a.Fragment,null,l.map((function(e){return i.a.createElement(ee,{key:e._id,book:e})})))),i.a.createElement(i.a.Fragment,null,i.a.createElement(w,null),i.a.createElement("div",{className:"wishlist-container"},i.a.createElement("div",{className:"wishlist-title-container"},i.a.createElement("span",{className:"wishlist-title"},"Library"),c," items"),i.a.createElement("div",{className:"wishlist-body"},o)),i.a.createElement(S,null))}function ce(){var e=i.a.useContext(C),t=Object(n.useState)(),a=Object(d.a)(t,2),l=a[0],r=a[1],c=void 0===e.inCart?0:e.inCart.length;Object(n.useEffect)((function(){0!==c?M.post("/books",{ids:e.inCart}).then((function(e){console.log(e),r(e.data)})).catch((function(e){r()})):console.log("found undefined "+e.inCart)}),[c,e.inCart]);var o=i.a.createElement("div",{className:"empty-wishlist-body"},i.a.createElement("span",{className:"empty-wishlist-heading"},"No items found in your Cart."),"Start building your Cart with audiobooks that inspire and entertain.",i.a.createElement(z.a,{variant:"warning",className:"empty-wishlist-btn",href:"http://localhost:3000/explore"},"Explore Audio-Books"));return void 0!==l&&void 0!==e.inCart&&e.inCart.length>0&&(o=i.a.createElement(i.a.Fragment,null,l.map((function(t){var a=i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"light",className:"btn-inlist",onClick:function(){e.moveToWishlist(t._id)}},"Move To Wishlist"),i.a.createElement(z.a,{variant:"warning",onClick:function(){e.removeFromCart(t._id)}},"Remove From Cart"));return i.a.createElement(ee,{key:t._id,book:t,buttonJSX:a})})))),i.a.createElement(i.a.Fragment,null,i.a.createElement(w,null),i.a.createElement("div",{className:"wishlist-container"},i.a.createElement("div",{className:"wishlist-title-container"},i.a.createElement("span",{className:"wishlist-title"},"Cart"),c," items"),i.a.createElement("div",{className:"wishlist-body"},o)),i.a.createElement(S,null))}function oe(e){var t=e.match.params.bookID;console.log(e);var a,l=i.a.useContext(C),r=Object(n.useState)(),c=Object(d.a)(r,2),o=c[0],s=c[1];if(Object(n.useEffect)((function(){void 0===o&&M.post("/books",{ids:[t]}).then((function(e){s(e.data)})).catch((function(e){console.log("unable to find this book")}))}),[o,t]),void 0===o)return i.a.createElement(i.a.Fragment,null,i.a.createElement(w,null),i.a.createElement("div",{className:"bookPage-notFound"},i.a.createElement("span",{className:"empty-wishlist-heading"},"Looks like your book is not with us!"),"Let's wait around with audiobooks that inspire and entertain.",i.a.createElement(z.a,{variant:"warning",className:"empty-wishlist-btn",href:"http://localhost:3000/explore"},"Explore Audio-Books")),i.a.createElement(S,null));var m={height:"26rem",backgroundImage:"url(".concat(o[0].imageUri,")"),backgroundRepeat:"no-repeat",backgroundSize:"100%",backgroundColor:"#484848",backgroundPosition:"center"};return a=l.inCart.includes(o[0]._id)?i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"light",className:"btn-inlist",href:"http://localhost:3000/cart"},"In Cart")):l.inWishlist.includes(o[0]._id)?i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"warning",onClick:function(){l.moveToCart(o[0]._id)}},"Move To Cart"),i.a.createElement(z.a,{variant:"light",className:"btn-inlist",href:"http://localhost:3000/wishlist"},"In Wish List")):l.inLibrary.includes(o[0]._id)?i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"light",className:"btn-inlist",href:"http://localhost:3000/library"},"In Your Library")):i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{variant:"warning",onClick:function(){l.addToCart(o[0]._id)}},"Add To Cart"),i.a.createElement(z.a,{variant:"warning",onClick:function(){l.addToWishlist(o[0]._id)}},"Add To Wish List")),i.a.createElement(i.a.Fragment,null,i.a.createElement(w,null),i.a.createElement("div",{style:m},i.a.createElement("div",{className:"bookPage-blur"},i.a.createElement("div",{className:"bookPage-book-details"},i.a.createElement("img",{src:o[0].imageUri,alt:o[0].title}),i.a.createElement("div",{className:"bookPage-book-specs"},i.a.createElement("span",{className:"bookPage-title"},o[0].title),i.a.createElement("div",null,i.a.createElement("span",{className:"bookPage-book-details-placeholder"},"Written By: "),i.a.createElement("span",{className:"bookPage-book-details-description"},o[0].author.join())),i.a.createElement("div",null,i.a.createElement("span",{className:"bookPage-book-details-placeholder"},"Narrated By: "),i.a.createElement("span",{className:"bookPage-book-details-description"},o[0].narratedBy.join())),i.a.createElement("div",null,i.a.createElement("span",{className:"bookPage-book-details-placeholder"},"Length: "),i.a.createElement("span",{className:"bookPage-book-details-description"},o[0].length," mins")),i.a.createElement("div",null,i.a.createElement("span",{className:"bookPage-book-details-placeholder"},"Language: "),i.a.createElement("span",{className:"bookPage-book-details-description"},o[0].language))),i.a.createElement("div",{className:"bookPage-price"},i.a.createElement("span",{className:"bookPage-price-placeholder"},"Price: \u20b9 ",o[0].price," "),a)))),i.a.createElement(S,null))}function se(e){console.log(e);var t=new E.a,a={display:"grid",placeContent:"center",width:"100vw",height:"100vh",letterSpacing:"2px",color:"#484848"},n=i.a.useState(i.a.createElement("div",{style:a},i.a.createElement("h1",null,"Verifying Your Account"),i.a.createElement(G.a,{variant:"warning",animation:"border",style:{width:"7rem",height:"7rem",fontSize:"2.5rem",margin:"3rem auto"}}))),l=Object(d.a)(n,2),r=l[0],c=l[1];return i.a.useEffect((function(){void 0===t.get("sessionID")?M.post("/verifyAccount",{token:e.match.params.token}).then((function(e){t.set("sessionID",e.data,{path:"/",maxAge:36e5}),c(i.a.createElement(p.a,{to:"/"}))})).catch((function(e){c(i.a.createElement("div",{style:a},i.a.createElement("h1",null,"Your token had expired!!! Go try again...")))})):c(i.a.createElement(p.a,{to:"/"}))}),[t,e.match.params.token,a]),r}function me(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)({inLibrary:[],inCart:[],inWishlist:[]}),c=Object(d.a)(r,2),s=c[0],b=c[1],f=new E.a,g=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/getList",{withCredentials:!0}).then((function(e){b({inLibrary:e.data.library,inCart:e.data.cart,inWishlist:e.data.wishlist})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){f.set("sessionID",e,{path:"/",maxAge:36e5}),g(),l(!0)},y=function(e){console.log("logging Out "+e),e&&(f.remove("sessionID"),b({inLibrary:[],inCart:[],inWishlist:[]})),l(!1)},k=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/checkSession",{withCredentials:!0}).then((function(e){e.data.status?v(f.get("sessionID")):y(!0)})).catch((function(e){console.log("unable to send checkSession cause of error: "+e),y(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){void 0!==f.get("sessionID")&&!0!==a&&(console.log("checking session authenticity"),k())}));var C={status:a,inWishlist:s.inWishlist,inCart:s.inCart,inLibrary:s.inLibrary,logIn:v,logOut:y,addToCart:function(e){!0===a?M.post("/updateRecord",{fieldName:"cart",val:e,type:1},{withCredentials:!0}).then((function(t){b({inLibrary:Object(o.a)(s.inLibrary),inCart:[].concat(Object(o.a)(s.inCart),[e]),inWishlist:Object(o.a)(s.inWishlist)})})).catch((function(e){alert("unable to add!")})):b({inLibrary:Object(o.a)(s.inLibrary),inCart:[].concat(Object(o.a)(s.inCart),[e]),inWishlist:Object(o.a)(s.inWishlist)})},addToWishlist:function(e){!0===a?M.post("/updateRecord",{fieldName:"wishlist",val:e,type:1},{withCredentials:!0}).then((function(t){b({inLibrary:Object(o.a)(s.inLibrary),inCart:Object(o.a)(s.inCart),inWishlist:[].concat(Object(o.a)(s.inWishlist),[e])})})).catch((function(e){alert("unable to add!")})):b({inLibrary:Object(o.a)(s.inLibrary),inCart:[].concat(Object(o.a)(s.inCart),[e]),inWishlist:[].concat(Object(o.a)(s.inWishlist),[e])})},removeFromCart:function(e){var t=[];s.inCart.map((function(a){return e!==a&&t.push(a),!0})),!0===a?M.post("/updateRecord",{fieldName:"cart",val:e,type:2},{withCredentials:!0}).then((function(e){b({inLibrary:Object(o.a)(s.inLibrary),inCart:t,inWishlist:Object(o.a)(s.inWishlist)})})).catch((function(e){alert("unable to add!")})):b({inLibrary:Object(o.a)(s.inLibrary),inCart:t,inWishlist:Object(o.a)(s.inWishlist)})},moveToWishlist:function(e){var t=[];s.inCart.map((function(a){return e!==a&&t.push(a),!0})),!0===a?M.post("/updateRecord",{fieldName:"wishlist",val:e,fromFieldName:"cart"},{withCredentials:!0}).then((function(a){b({inLibrary:Object(o.a)(s.inLibrary),inCart:t,inWishlist:[].concat(Object(o.a)(s.inWishlist),[e])})})).catch((function(e){alert("unable to add!")})):b({inLibrary:Object(o.a)(s.inLibrary),inCart:t,inWishlist:[].concat(Object(o.a)(s.inWishlist),[e])})},moveToCart:function(e){var t=[];s.inWishlist.map((function(a){return e!==a&&t.push(a),!0})),!0===a?M.post("/updateRecord",{fieldName:"cart",val:e,fromFieldName:"wishlist"},{withCredentials:!0}).then((function(a){b({inLibrary:Object(o.a)(s.inLibrary),inCart:[].concat(Object(o.a)(s.inCart),[e]),inWishlist:t})})).catch((function(e){alert("unable to add!")})):b({inLibrary:Object(o.a)(s.inLibrary),inCart:[].concat(Object(o.a)(s.inCart),[e]),inWishlist:t})},removeFromWishlist:function(e){var t=[];s.inWishlist.map((function(a){return e!==a&&t.push(a),!0})),!0===a?M.post("/updateRecord",{fieldName:"wishlist",val:e,type:2},{withCredentials:!0}).then((function(e){b({inLibrary:Object(o.a)(s.inLibrary),inCart:Object(o.a)(s.inCart),inWishlist:t})})).catch((function(e){alert("unable to add!")})):b({inLibrary:Object(o.a)(s.inLibrary),inCart:Object(o.a)(s.inCart),inWishlist:t})}};return i.a.createElement(N,{value:C},i.a.createElement(h.a,null,i.a.createElement(p.d,null,i.a.createElement(p.b,{exact:!0,path:"/",component:H}),i.a.createElement(p.b,{exact:!0,path:"/explore",component:ie}),i.a.createElement(p.b,{exact:!0,path:"/cart",component:ce}),i.a.createElement(p.b,{exact:!0,path:"/book/:bookID",component:oe}),i.a.createElement(de,{exact:!0,path:"/login",auth:a,component:X}),i.a.createElement(p.b,{exact:!0,path:"/verification/:token",auth:a,component:se}),i.a.createElement(de,{exact:!0,path:"/createUser",auth:a,component:Z}),i.a.createElement(ue,{exact:!0,path:"/profile",auth:a,component:$}),i.a.createElement(ue,{exact:!0,path:"/wishlist",auth:a,component:le}),i.a.createElement(ue,{exact:!0,path:"/library",auth:a,component:re}))))}var ue=function(e){var t=e.component,a=e.auth,n=Object(c.a)(e,["component","auth"]);return void 0===a||a?i.a.createElement(p.b,Object.assign({},n,{render:function(){return i.a.createElement(t,null)}})):i.a.createElement(p.a,{to:"/login"})},de=function(e){var t=e.component,a=e.auth,n=Object(c.a)(e,["component","auth"]);return void 0!==a&&a?i.a.createElement(p.a,{to:"/"}):i.a.createElement(p.b,Object.assign({},n,{render:function(){return i.a.createElement(t,null)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){},31:function(e,t,a){},58:function(e,t,a){e.exports=a.p+"static/media/audible_logo.d4901de3.svg"},83:function(e,t,a){e.exports=a.p+"static/media/audible_logo.d4901de3.svg"},89:function(e,t,a){e.exports=a.p+"static/media/left-arrow.62e51539.svg"},90:function(e,t,a){e.exports=a.p+"static/media/right-arrow.ba838726.svg"}},[[101,1,2]]]);
//# sourceMappingURL=main.bb472ff5.chunk.js.map